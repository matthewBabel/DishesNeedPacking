package garlicquasar.babel.matt.dishesneedpacking.Fragments;


import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.annotation.Nullable;
import androidx.fragment.app.Fragment;

import garlicquasar.babel.matt.dishesneedpacking.Acitivities.MainActivity;
import garlicquasar.babel.matt.dishesneedpacking.Audio.SoundEffectPlayer;
import garlicquasar.babel.matt.dishesneedpacking.R;

/**
 * Holds Level data and shows user level score information before playing.
 */
public class LevelDetailFragment extends Fragment {

    int level;

    public static int[][] scores = new int[][]{
            {500, 3000, 7500},
            {1000, 3000, 8000},
            {1000, 3000, 8000},
            {800, 3500, 8000},
            {1000, 4000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {800, 5000, 8000},
            {800, 5000, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {900, 4500, 8000},
            {1000, 5500, 10000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 8000},
            {1000, 5000, 9000},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 5000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8000},
            {1000, 4000, 8000},
            {1000, 4000, 8000},
            {1000, 4000, 8000},
            {1000, 4000, 8000},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8500},
            {1000, 4000, 8000},
            {1000, 4500, 9000},
            {1000, 4000, 8000},
            {1000, 4000, 8000},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 4000, 9000},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8500},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 3500, 8000},
            {1000, 4000, 8500},
            {1000, 3500, 8000},
            {1000, 4000, 8000},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {900, 3500, 8500},
            {1000, 3500, 9000},
    };

    public static double[][] levelParameters = new double[][]{
            {5, 1, 0, 0, 0.1, 2, 1, 2, 1, 4, 1},
            {6, 1, 0, 0, 0.1, 2, 1, 2, 2, 4, 1},
            {7, 1, 0, 0, 0.2, 2, 1, 2, 3, 4, 1},
            {5, 2, 0, 0, 0.1, 2, 1, 2, 4, 4, 1},
            {6, 2, 0, 0, 0.1, 2, 1, 3, 5, 4, 1},
            {7, 1, 1, 0, 0.1, 2, 0, 3, 6, 4, 1},
            {8, 1, 2, 0, 0.1, 2, 0, 3, 7, 4, 1},
            {7, 1, 0, 1, 0.1, 3, 1, 3, 8, 4, 1},
            {8, 1, 0, 1, 0.2, 3, 0, 3, 9, 4, 1},
            {8, 1, 1, 1, 0.1, 2, 0, 3, 10, 4, 1},
            {5, 2, 0, 1, 0.2, 0, 0, 3, 11, 3, 1},
            {6, 2, 2, 0, 0.2, 0, 0, 4, 12, 3, 1},
            {6, 2, 0, 2, 0.2, 1, 0, 4, 13, 3, 1},
            {8, 1, 1, 1, 0.2, 1, 1, 5, 14, 3, 1},
            {9, 1, 2, 1, 0.1, 2, 0, 3, 15, 3, 1},
            {9, 1, 1, 2, 0.2, 2, 1, 3, 16, 3, 1},
            {9, 1, 2, 2, 0.1, 2, 0, 2, 17, 3, 1},
            {9, 1, 3, 0, 0.1, 3, 1, 3, 18, 3, 1},
            {9, 1, 0, 3, 0.1, 3, 1, 3, 19, 3, 1},
            {9, 1, 0, 0, 0.5, 3, 0, 5, 20, 3, 1},
            {10, 1, 2, 1, 0.2, 2, 0, 4, 21, 3, 1},
            {6, 2, 3, 0, 0.2, 1, 1, 3, 22, 3, 1},
            {5, 3, 2, 1, 0.2, 1, 0, 3, 23, 3, 1},
            {5, 3, 1, 2, 0.1, 1, 1, 3, 24, 3, 1},
            {6, 3, 1, 2, 0.1, 0, 0, 3, 25, 3, 1},
            {6, 3, 2, 3, 0.1, 0, 1, 4, 26, 3, 1},
            {7, 2, 2, 3, 0.1, 0, 0, 4, 27, 3, 1},
            {7, 2, 4, 0, 0.2, 2, 1, 3, 28, 3, 1},
            {8, 2, 5, 0, 0.1, 2, 0, 3, 29, 3, 1},
            {8, 1, 2, 1, 0.1, 3, 1, 6, 30, 3, 1},
            {9, 1, 2, 1, 0.2, 0, 0, 5, 31, 3, 1},
            {9, 1, 3, 1, 0.2, 0, 0, 4, 32, 3, 1},
            {10, 1, 3, 1, 0.2, 0, 1, 3, 33, 3, 1},
            {7, 2, 2, 1, 0.1, 1, 1, 3, 34, 3, 1},
            {8, 2, 3, 1, 0, 1, 0, 3, 35, 3, 1},
            {8, 2, 3, 1, 0.2, 1, 0, 3, 36, 3, 1},
            {9, 2, 4, 1, 0.1, 0, 1, 3, 37, 3, 1},
            {6, 3, 3, 1, 0.2, 0, 1, 3, 38, 3, 1},
            {6, 4, 2, 2, 0.2, 1, 0, 4, 39, 3, 1},
            {10, 1, 3, 2, 0.2, 1, 0, 5, 40, 2, 1},
            {6, 2, 4, 0, 0.3, 2, 0, 3, 41, 2, 1},
            {7, 2, 5, 0, 0.3, 2, 1, 3, 42, 2, 1},
            {8, 2, 6, 0, 0.4, 3, 1, 3, 43, 2, 1},
            {8, 2, 0, 5, 0.2, 3, 0, 3, 44, 2, 1},
            {8, 2, 3, 3, 0.2, 3, 0, 2, 45, 2, 1},
            {9, 2, 4, 3, 0.2, 1, 0, 3, 46, 2, 1},
            {9, 2, 0, 6, 0.4, 1, 1, 3, 47, 2, 1},
            {10, 2, 4, 2, 0.1, 0, 0, 3, 48, 2, 1},
            {5, 5, 5, 1, 0.2, 0, 1, 3, 49, 2, 1},
            {6, 1, 1, 0, 0.2, 3, 0, 2, 50, 2, 2},
            {7, 1, 2, 0, 0.2, 2, 1, 2, 51, 2, 2},
            {8, 1, 3, 0, 0.1, 2, 0, 2, 52, 2, 2},
            {7, 1, 2, 0, 0.1, 3, 1, 1, 53, 2, 3},
            {5, 2, 2, 1, 0.1, 3, 1, 2, 54, 2, 2},
            {6, 4, 3, 2, 0.3, 3, 1, 4, 55, 2, 1},
            {7, 4, 1, 3, 0.3, 0, 0, 5, 56, 2, 1},
            {8, 3, 1, 3, 0.3, 0, 0, 5, 57, 2, 1},
            {9, 2, 2, 4, 0.3, 1, 0, 4, 58, 2, 1},
            {8, 3, 2, 5, 0.3, 1, 1, 4, 59, 2, 1},
            {10, 2, 2, 6, 0.3, 2, 1, 6, 60, 2, 1},
            {5, 3, 4, 1, 0.2, 2, 0, 2, 61, 2, 2},
            {6, 2, 1, 2, 0.5, 1, 1, 2, 62, 2, 2},
            {8, 1, 1, 2, 0.2, 0, 1, 2, 63, 2, 2},
            {8, 1, 3, 2, 0.2, 0, 1, 1, 64, 2, 3},
            {7, 1, 1, 1, 0.1, 3, 0, 3, 65, 1, 1},
            {5, 2, 4, 0, 0.1, 2, 1, 3, 66, 1, 1},
            {6, 2, 5, 0, 0.2, 2, 0, 4, 67, 1, 1},
            {7, 2, 0, 4, 0.2, 0, 0, 4, 68, 1, 1},
            {10, 1, 2, 2, 0.2, 0, 1, 4, 69, 1, 1},
            {5, 3, 3, 1, 0.2, 1, 0, 3, 70, 1, 1},
            {8, 2, 5, 1, 0.2, 1, 0, 3, 71, 1, 1},
            {9, 2, 6, 1, 0.2, 2, 0, 4, 72, 1, 1},
            {9, 2, 1, 4, 0.3, 3, 1, 4, 73, 1, 1},
            {6, 3, 3, 3, 0.2, 3, 1, 3, 74, 1, 1},
            {6, 3, 1, 0, 0.3, 2, 1, 2, 75, 1, 2},
            {7, 2, 4, 0, 0.3, 3, 0, 2, 76, 1, 2},
            {8, 2, 5, 0, 0.3, 2, 1, 2, 77, 1, 2},
            {9, 2, 6, 1, 0.3, 0, 1, 2, 78, 1, 2},
            {9, 2, 7, 1, 0.3, 1, 0, 2, 79, 1, 2},
            {7, 4, 6, 3, 0.3, 1, 1, 5, 80, 1, 1},
            {6, 5, 5, 5, 0.4, 2, 1, 5, 81, 1, 1},
            {8, 4, 9, 1, 0.1, 2, 0, 6, 82, 1, 1},
            {7, 5, 10, 1, 0.1, 3, 1, 5, 83, 1, 1},
            {10, 2, 6, 3, 0.3, 0, 0, 7, 84, 1, 1},
            {8, 1, 2, 1, 0.2, 2, 1, 3, 85, 0, 1},
            {9, 1, 1, 4, 0.2, 2, 0, 4, 86, 0, 1},
            {7, 2, 3, 2, 0.2, 0, 1, 5, 87, 0, 1},
            {8, 2, 5, 2, 0.2, 0, 0, 5, 88, 0, 1},
            {9, 2, 2, 5, 0.3, 1, 1, 5, 89, 0, 1},
            {8, 1, 4, 3, 0.2, 1, 1, 2, 90, 0, 2},
            {5, 4, 5, 2, 0.2, 2, 0, 2, 91, 0, 2},
            {8, 2, 6, 2, 0.1, 3, 0, 2, 92, 0, 2},
            {9, 2, 7, 3, 0.1, 2, 1, 2, 93, 0, 3},
            {10, 2, 9, 4, 0.4, 1, 1, 6, 94, 0, 1},
            {10, 3, 10, 5, 0.4, 0, 1, 6, 95, 0, 1},
            {10, 4, 20, 2, 0, 1, 1, 7, 96, 0, 1},
            {10, 2, 10, 7, 0.3, 2, 0, 2, 97, 0, 2},
            {10, 2, 15, 3, 0.3, 3, 0, 3, 98, 0, 2},
            {10, 2, 6, 10, 0.5, 2, 0, 3, 99, 0, 2},
            {10, 3, 20, 8, 0.3, 3, 0, 4, 100, 0, 3},
    };

    public LevelDetailFragment(int level) {
        this.level = level;
    }


    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        return inflater.inflate(R.layout.activity_level, container, false);
    }

    @Override
    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {

        TextView mainTv = view.findViewById(R.id.levelTitleTV);
        mainTv.setText("Level " + level);

        TextView bronze = view.findViewById(R.id.bronzeTV);
        bronze.setText("Score for Bronze - " + scores[level - 1][0]);

        TextView silver = view.findViewById(R.id.silverTV);
        silver.setText("Score for Silver - " + scores[level - 1][1]);

        TextView gold = view.findViewById(R.id.goldTV);
        gold.setText("Score for Gold - " + scores[level - 1][2]);

        Button playButton = view.findViewById(R.id.levelPlayBtn);
        playButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                play(v);
            }
        });

        ImageButton backButton = view.findViewById(R.id.levelDetailBackButton);
        backButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                back(v);
            }
        });
    }

    private void play(View view) {
        SoundEffectPlayer.playClick(getActivity());
        double[] params = levelParameters[level - 1];
        GameDisplayFragment fragment = new GameDisplayFragment((int) params[0], (int) params[1],
                (int) params[2], (int)params[3], params[4], (int)params[5], (int)params[6],
        (int)params[7], (int)params[8], (int)params[9], (int)params[10], false);
        MainActivity.startFragment(fragment, "Game Display");
    }


    private void back(View view) {
        SoundEffectPlayer.playBackButton(getActivity());
        MainActivity.backAFragment("Level Detail");
    }

}
